{"version":3,"sources":["webpack:///E:/uniapp/tgmallnew/web_app/main.js","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?c61b","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?9ba8","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?de61","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?582e","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?df26","webpack:///E:/uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue?b742"],"names":["createPage","Page","data","hidden","current","choose","chooseIndex","chooseSku","list","detailImgList","all","goodsSkuVoList","shoppingCartNum","totalPrice","components","props","onLoad","options","getApp","globalData","login","uni","showLoading","title","mask","goodsId","then","result","res","i","goodsVo","carouselImgList","length","img","imgUrl","mainImg","skuQty","keyId","push","hideLoading","onReady","onShow","console","log","userInfo","loginStatus","pageLoading","$store","getters","id","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","computed","methods","swiperChange","e","detail","preventD","previewImage1","idx","previewImage","urls","previewImage2","imgsrc","src","srcArray","shoppingCart","navigateTo","url","islogined","buyChoose","orderDetails","Settlement","skuId","openId","userType","parendNo","shoppingCartChoose","joinShoppingCart","addAShoppingCart","method","getShoppingCartCount","close","chooseType","reduce","skuVoList","add","skuStock","showModal","content","success","confirm"],"mappings":"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","file":"pages/commodity_details/commodity_details.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/commodity_details/commodity_details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./commodity_details.vue?vue&type=template&id=137f8987&\"\nvar renderjs\nimport script from \"./commodity_details.vue?vue&type=script&lang=js&\"\nexport * from \"./commodity_details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commodity_details.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\Ksoftware\\\\软件下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('137f8987')) {\n      api.createRecord('137f8987', component.options)\n    } else {\n      api.reload('137f8987', component.options)\n    }\n    module.hot.accept(\"./commodity_details.vue?vue&type=template&id=137f8987&\", function () {\n      api.rerender('137f8987', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/tgmallnew/web_app/pages/commodity_details/commodity_details.vue\"\nexport default component.exports","export * from \"-!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./commodity_details.vue?vue&type=template&id=137f8987&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./commodity_details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./commodity_details.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport {uniHttp} from \"../../apis/api.js\"\r\nimport {mapGetters} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n\t  hidden:false,\r\n      current: '',\r\n      choose: '',// buy shoppingCart\r\n      chooseIndex: 1,\r\n      chooseSku:'',\r\n      list:[],\r\n      detailImgList:[],\r\n      all: '',\r\n      goodsSkuVoList: [],\r\n      shoppingCartNum: '',\r\n      totalPrice: '',\r\n    };\r\n  },\r\n\r\n  components: {},\r\n  props: {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n\r\n    getApp().globalData.login();\r\n\r\n\tuni.showLoading({\r\n\t\ttitle:\"加载中...\",\r\n\t\tmask:true\r\n\t});\r\n\tuniHttp({//获取商品详情\r\n\t\t\"path\":\"/goods/api/goodsInternal/getGoodsDetailsById/\"+options.goodsId,\r\n\t\t\"header\":{\r\n\t\t\t\"aid\":\"106\",\r\n\t\t\t\"type\":\"1\",\r\n\t\t}\r\n\t}).then(result=>{\r\n\t\tlet res=result;\r\n\t\t  for (var i = 0; i < res.goodsVo.carouselImgList.length; i++) {\r\n\t\t    var img = getApp().globalData.imgUrl + \"/\" + res.goodsVo.carouselImgList[i];\r\n\t\t    res.goodsVo.carouselImgList[i] = img;\r\n\t\t  }\r\n\t\t  for (var i = 0; i < res.goodsVo.goodsSkuVoList.length; i++) {\r\n\t\t    var img = getApp().globalData.imgUrl + \"/\" + res.goodsVo.goodsSkuVoList[i].mainImg;\r\n\t\t    var skuQty = 1;\r\n\t\t    res.goodsVo.goodsSkuVoList[i].skuQty = skuQty;\r\n\t\t    res.goodsVo.goodsSkuVoList[i].mainImg = img;\r\n\t\t  }\r\n\t\t\r\n\t\t  for (var i = 0; i < res.goodsVo.detailImgList.length; i++) {\r\n\t\t    var img = getApp().globalData.imgUrl + \"/\" + res.goodsVo.detailImgList[i];\r\n\t\t    res.goodsVo.detailImgList[i] = img;\r\n\t\t  }\r\n\t\t\r\n\t\t  for (var keyId in res.goodsVo.goodsSkuVoList) {\r\n\t\t    this.goodsSkuVoList.push(res.goodsVo.goodsSkuVoList[keyId]);\r\n\t\t  }\r\n\t\tthis.list=res.goodsVo.carouselImgList;\r\n\t\tthis.all=res.goodsVo;\r\n\t\tthis.detailImgList=res.goodsVo.detailImgList;\r\n\t\tthis.chooseSku=this.goodsSkuVoList[0];\r\n\t\tuni.hideLoading();\r\n\t})\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n\t console.log(this.userInfo,this.loginStatus)\r\n    this.pageLoading = false;\r\n    if (this.userInfo) {//this.$store.getters['login/get_userInfo'].id\r\n\t\tuniHttp({//获取购物车数量\r\n\t\t\t\"path\":\"/member/api/memberInternal/getShoppingCartCount/\"+this.$store.getters['login/get_userInfo'].id,\r\n\t\t\t\"header\":{\r\n\t\t\t\t\"aid\":\"107\"\r\n\t\t\t}\r\n\t\t}).then(result=>{\r\n\t\t\tthis.shoppingCartNum=result.shoppingCartNum;\r\n\t\t})\r\n    }\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {},\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {},\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {},\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {},\r\n  computed:{\r\n  \t...mapGetters('login',{\r\n\t\t\"loginStatus\":\"get_isLogin\",\r\n\t\t\"userInfo\":\"get_userInfo\"\r\n\t})\r\n  },\r\n  methods: {\r\n\t  \r\n    swiperChange: function (e) {//轮播当前的下标值\r\n        this.current=e.detail.current;\r\n    },\r\n    preventD: function () {},\r\n    previewImage1(idx) {\r\n      uni.previewImage({\r\n        current: this.list[idx],\r\n        urls: this.list\r\n      });\r\n    },\r\n    previewImage2(imgsrc) {\r\n      var src = imgsrc;\r\n      var srcArray = [];\r\n      srcArray.push(src);\r\n      uni.previewImage({\r\n        current: src,\r\n        urls: srcArray\r\n      });\r\n    },\r\n    shoppingCart() {//点击购物车\r\n\t\tif (this.loginStatus) {\r\n\t\t\tif (!this.pageLoading) {\r\n\t\t\t  this.pageLoading = true;\r\n\t\t\t  uni.navigateTo({\r\n\t\t\t\turl: '/pages/shoppingCart/shoppingCart'\r\n\t\t\t  });\r\n\t\t\t}\r\n\t\t} else {//需要登录\r\n\t\t\tthis.islogined();\r\n\t\t}\r\n    },\r\n    buyChoose() {//点击立即购买\r\n      if (this.userInfo) {\r\n          this.choose=\"buy\";\r\n      } else {//验证登录\r\n        this.islogined()\r\n      }\r\n    },\r\n\torderDetails(e) {//立即购买->选好了 确定购买\r\n\t  var Settlement = [{}];\r\n\t  Settlement[0].goodsId = this.all.id;\r\n\t  Settlement[0].skuId = this.chooseSku.id;\r\n\t  Settlement[0].skuQty = this.chooseSku.skuQty;\r\n\t\tuni.showLoading({\r\n\t\t\t\"title\":\"加载中...\",\r\n\t\t\t\"mask\":true,\r\n\t\t});\r\n\t\tuniHttp({\r\n\t\t\t\"path\":\"/orders/api/orderInternal/generatingOrder\",\r\n\t\t\t\"method\":\"POST\",\r\n\t\t\t\"data\":{\r\n\t\t\t\t\"wxMemId\": this.$store.getters['login/get_userInfo'].id,\r\n\t\t\t\t\"openId\": getApp().globalData.openId,\r\n\t\t\t\t\"orderSource\": getApp().globalData.userType,\r\n\t\t\t\t\"orderVoList\": Settlement\r\n\t\t\t},\r\n\t\t\t\"header\":{\r\n\t\t\t\t\"aid\": 119\r\n\t\t\t}\r\n\t\t}).then(result=>{\r\n\t\t\tif (!this.pageLoading) {\r\n\t\t\t  this.pageLoading = true;\r\n\t\t\t  uni.hideLoading();\r\n\t\t\t  uni.navigateTo({\r\n\t\t\t    url: '/pages/orderDetails/orderDetails?parendNo=' + result.parendNo\r\n\t\t\t  });\r\n\t\t\t   this.choose='';\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tshoppingCartChoose() {//点击加入购物车\r\n\t  if (this.userInfo) {\r\n\t      this.choose='shoppingCart';\r\n\t  } else {//验证登录\r\n\t    this.islogined()\r\n\t  }\r\n\t},\r\n    joinShoppingCart() {//确定添加到购物车\r\n\t\tuniHttp({\r\n\t\t\t\"path\":getApp().globalData.addAShoppingCart,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t  \"memId\":this.$store.getters['login/get_userInfo'].id,\r\n\t\t\t  \"memSource\": 1,\r\n\t\t\t  \"skuId\": this.chooseSku.id,\r\n\t\t\t  \"qty\": this.chooseSku.skuQty\r\n\t\t\t},\r\n\t\t\t\"header\":{\r\n\t\t\t\t\"aid\":\"114\"\r\n\t\t\t}\r\n\t\t}).then(res=>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tuniHttp({//购物车数量\r\n\t\t\t\t\"path\":getApp().globalData.getShoppingCartCount + this.$store.getters['login/get_userInfo'].id,\r\n\t\t\t\tdata: {},\r\n\t\t\t\t\"header\":{\r\n\t\t\t\t\t\"aid\":\"107\"\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\t this.shoppingCartNum=res.shoppingCartNum;\r\n\t\t\t})\r\n\t\t})\r\n       this.choose='';\r\n    },\r\n\r\n    close() {//关闭弹框\r\n        this.choose='';\r\n    },\r\n    chooseType(idx) {//sku选择 规格\r\n        this.chooseIndex=idx;\r\n        this.chooseSku=this.goodsSkuVoList[idx];\r\n    },\r\n    //减少数量\r\n    reduce: function () {\r\n      var skuVoList = {};\r\n      if (this.chooseSku.skuQty >= 2) {\r\n        skuVoList.skuQty = this.chooseSku.skuQty - 1;\r\n         this.chooseSku.skuQty=skuVoList.skuQty;\r\n      }\r\n    },\r\n    //增加数量\r\n    add: function () {\r\n      var skuVoList = {};\r\n      if (this.chooseSku.skuQty < this.chooseSku.skuStock) {\r\n        skuVoList.skuQty = this.chooseSku.skuQty + 1;\r\n          this.chooseSku.skuQty=skuVoList.skuQty;\r\n      }\r\n    },\r\n\tislogined:function(){//是否登录\r\n\t\tif(!this.loginStatus){\r\n\t\t\tuni.showModal({\r\n\t\t\t  title: '提示',\r\n\t\t\t  content: '请先登录哦!',\r\n\t\t\t  success:(res)=>{\r\n\t\t\t    if (res.confirm) {\r\n\t\t\t      uni.navigateTo({\r\n\t\t\t        url: '/pages/login/login'\r\n\t\t\t      });\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t}\r\n  }\r\n};\r\n","import mod from \"-!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./commodity_details.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/软件下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./commodity_details.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}