(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-commodity_details-commodity_details"],{"204f":function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",[i("loading",{attrs:{hidden:t.hidden}},[t._v("加载中...")])],1),i("v-uni-view",{staticClass:"swiper-box"},[i("v-uni-swiper",{attrs:{current:"0",circular:"true"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},t._l(t.list,function(e,o){return i("v-uni-swiper-item",{key:o},[i("v-uni-image",{attrs:{src:e,"data-index":t.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage1.apply(void 0,arguments)}}})],1)}),1),i("v-uni-view",{staticClass:"imageCount"},[t._v(t._s(t.current+1)+"/"+t._s(t.list.length))])],1),i("v-uni-view",{staticClass:"commodity-content"},[i("v-uni-view",[i("v-uni-view",[i("v-uni-text",[i("v-uni-text",[t._v("￥")]),t._v(t._s(t.chooseSku.marketPrice))],1),t.chooseSku.marketPrice!==t.chooseSku.retailPrice?i("v-uni-text",[t._v("￥"+t._s(t.chooseSku.retailPrice))]):t._e()],1),i("v-uni-view",t._l(t.all.ensureList,function(e,o){return 1==e.rank?i("v-uni-text",{key:o},[t._v(t._s(e.content))]):t._e()}),1)],1),i("v-uni-view",[i("v-uni-view",[i("v-uni-view",[i("v-uni-text",{staticClass:"commodity-title"},[t._v(t._s(t.all.goodsName))]),i("v-uni-text",{staticClass:"commodity-class"},[t._v("定制版")])],1),i("v-uni-view",t._l(t.all.ensureList,function(e,o){return 2==e.rank?i("v-uni-text",{key:o,staticClass:"commodity-ensure"},[t._v(t._s(e.content))]):t._e()}),1)],1),i("v-uni-view",[i("v-uni-image",{attrs:{src:"/static/images/Commodity_details_Collection_uncheckede_Copy.png"}}),i("v-uni-text",[t._v("已收藏")])],1)],1)],1),i("v-uni-view",{staticClass:"commodity-image"},[t._l(t.detailImgList,function(t,e){return[i("v-uni-image",{key:e+"_0",attrs:{src:t,mode:"widthFix"}})]})],2),i("v-uni-view",{staticClass:"commodity-bottom"},[i("v-uni-view",[i("v-uni-view",[i("v-uni-image",{attrs:{src:"/static/images/Commodity_details_Private_letter.png"}}),i("v-uni-text",[t._v("私信")])],1),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shoppingCart.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/Commodity_details_shopping_Copy.png"}}),i("v-uni-text",[t._v("购物车")]),t.shoppingCartNum?i("v-uni-view",[t._v(t._s(t.shoppingCartNum))]):t._e()],1)],1),i("v-uni-view",[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shoppingCartChoose.apply(void 0,arguments)}}},[t._v("加入购物车")]),i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyChoose.apply(void 0,arguments)}}},[t._v("立即购买")])],1)],1),t.choose?i("v-uni-view",{staticClass:"commodity-choose"},[i("v-uni-view",{staticClass:"commodity-choose-intro"},[i("v-uni-view",[i("v-uni-image",{attrs:{src:t.chooseSku.mainImg,"data-src":t.chooseSku.mainImg},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage2.apply(void 0,arguments)}}})],1),i("v-uni-view",[i("v-uni-text",{staticClass:"commodity-choose-intro-name"},[t._v(t._s(t.all.goodsName))]),i("v-uni-text",{staticClass:"commodity-choose-intro-class"},[t._v("已选："+t._s(t.chooseSku.skuName)+"；")]),i("v-uni-text",{staticClass:"commodity-choose-intro-free"},[t._v("赠品：皮绳红色")]),i("v-uni-view",{staticClass:"commodity-choose-intro-money"},[i("v-uni-view",[i("span",[t._v("￥")]),t._v(t._s(t.chooseSku.marketPrice))]),i("v-uni-text",[t._v("x"+t._s(t.chooseSku.skuQty))])],1)],1),i("v-uni-image",{staticClass:"close",attrs:{src:"/static/images/close.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"commodity-choose-guige"},[i("v-uni-text",[t._v("规格")]),i("v-uni-view",[t._l(t.goodsSkuVoList,function(e,o){return[0==!e.skuStock?i("v-uni-text",{key:o+"_0",class:t.chooseIndex==t.index?"commodity-choose-guige-choose":"commodity-choose-guige-unchoose",attrs:{"data-index":t.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseType.apply(void 0,arguments)}}},[t._v(t._s(e.skuName))]):t._e(),0==e.skuStock?i("v-uni-text",{key:o+"_1",class:t.chooseIndex==t.index?"commodity-choose-guige-choose":"commodity-choose-guige-unchoose2",attrs:{"data-index":t.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseType.apply(void 0,arguments)}}},[t._v(t._s(e.skuName))]):t._e()]})],2)],1),i("v-uni-view",{staticClass:"commodity-choose-num"},[i("v-uni-text",[t._v("数量")]),i("v-uni-view",{staticClass:"buy-num"},[i("v-uni-view",{class:1==t.chooseSku.skuQty?"jian-btn-disabled":"jian-btn",attrs:{"data-index":t.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reduce.apply(void 0,arguments)}}},[t._v("－")]),i("v-uni-input",{attrs:{value:t.chooseSku.skuQty,disabled:"true"}}),i("v-uni-view",{class:t.chooseSku.skuQty==t.chooseSku.skuStock?"jia-btn-disabled":"jia-btn",attrs:{"data-index":t.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[t._v("+")])],1)],1),i("v-uni-view",{staticClass:"commodity-choose-free"},[i("v-uni-text",[t._v("赠品")]),i("v-uni-view",[i("v-uni-text",{staticClass:"commodity-choose-guige-unchoose"},[t._v("红色")]),i("v-uni-text",{staticClass:"commodity-choose-guige-unchoose"},[t._v("黑色")]),i("v-uni-text",{staticClass:"commodity-choose-guige-unchoose"},[t._v("随机")])],1)],1),"shoppingCart"==t.choose&&0!==t.chooseSku.skuStock?i("v-uni-view",{staticClass:"commodity-choose-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.joinShoppingCart.apply(void 0,arguments)}}},[t._v("加入购物车")]):t._e(),0==t.chooseSku.skuStock?i("v-uni-view",{staticClass:"commodity-choose-bottom2"},[t._v("库存不足")]):t._e(),"buy"==t.choose&&0!==t.chooseSku.skuStock?i("v-uni-view",{staticClass:"commodity-choose-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.orderDetails.apply(void 0,arguments)}}},[t._v("选好了")]):t._e()],1):t._e()],1)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return o})},"3d57":function(t,e,i){var o=i("b620");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("10fac1a6",o,!0,{sourceMap:!1,shadowMode:!1})},4858:function(t,e,i){"use strict";var o=i("3d57"),n=i.n(o);n.a},5803:function(t,e,i){"use strict";i.r(e);var o=i("204f"),n=i("b7c7");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("4858");var s,c=i("f0c5"),d=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"7eef5886",null,!1,o["a"],s);e["default"]=d.exports},b620:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-7eef5886]{background-color:#eee;padding-bottom:%?125?%;height:100%}.swiper-box[data-v-7eef5886]{width:%?750?%;height:%?730?%;position:relative}uni-swiper[data-v-7eef5886]{width:100%;height:100%}uni-swiper uni-image[data-v-7eef5886]{width:100%;height:100%}.imageCount[data-v-7eef5886]{position:absolute;width:%?88?%;height:%?48?%;background-color:rgba(30,30,30,.4);border-radius:%?24?%;line-height:%?48?%;color:#fff;text-align:center;font-size:%?22?%;right:%?26?%;bottom:%?40?%}.commodity-content[data-v-7eef5886]{width:%?710?%;background-color:#fff;padding:0 %?20?%}.commodity-content>uni-view[data-v-7eef5886]:nth-child(1){width:%?710?%;height:%?105?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.commodity-content>uni-view:nth-child(1)>uni-view:nth-child(1)>uni-text[data-v-7eef5886]:nth-child(1){color:#ff4343;font-size:%?44?%;font-weight:700}.commodity-content>uni-view:nth-child(1)>uni-view:nth-child(1)>uni-text:nth-child(1) uni-text[data-v-7eef5886]{color:#ff4343;font-size:%?31?%;font-weight:700;margin-right:%?5?%}.commodity-content>uni-view:nth-child(1)>uni-view:nth-child(1)>uni-text[data-v-7eef5886]:nth-child(2){color:#aaa;font-size:%?26?%;text-decoration:line-through;margin-left:%?20?%}\r\n/* .commodity-content>view:nth-child(1)>view:nth-child(2)>text:nth-child(1){\r\n  color: #ff4343;\r\n  font-size: 26rpx;\r\n  border: 1rpx solid #ff4343;\r\n  height: 20rpx;\r\n  padding: 0 15rpx;\r\n  line-height: 20rpx;\r\n  margin-left: 20rpx;\r\n  border-radius: 5rpx;\r\n} */.commodity-content>uni-view:nth-child(1)>uni-view:nth-child(2)>uni-text[data-v-7eef5886]{color:#ff4343;font-size:%?26?%;border:%?1?% solid #ff4343;height:%?20?%;padding:0 %?15?%;line-height:%?20?%;margin-left:%?20?%;border-radius:%?5?%}.commodity-manjian[data-v-7eef5886]{color:#aaa;font-size:%?26?%;border:%?1?% solid #aaa;height:%?20?%;padding:0 %?15?%;line-height:%?20?%;margin-left:%?20?%;border-radius:%?5?%}.commodity-manjian uni-text[data-v-7eef5886]{color:#ff7eb3}.commodity-content>uni-view[data-v-7eef5886]:nth-child(2){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:%?710?%}.commodity-content>uni-view:nth-child(2)>uni-view:nth-child(1)>uni-view[data-v-7eef5886]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.commodity-title[data-v-7eef5886]{font-size:%?32?%;font-weight:700;width:%?700?%}.commodity-class[data-v-7eef5886]{font-size:%?25?%;color:#6d6d6d;margin-left:%?30?%}.commodity-ensure[data-v-7eef5886]{font-size:%?25?%;margin-right:%?40?%;color:#aeaeae;margin-top:%?25?%}.commodity-content>uni-view:nth-child(2)>uni-view[data-v-7eef5886]:nth-child(2){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?100?%}.commodity-content>uni-view:nth-child(2)>uni-view:nth-child(2) uni-image[data-v-7eef5886]{height:%?60?%;width:%?60?%}.commodity-content>uni-view:nth-child(2)>uni-view:nth-child(2) uni-text[data-v-7eef5886]{font-size:%?27?%;color:#686868;margin-top:%?10?%}.commodity-information-box[data-v-7eef5886]{width:%?730?%;padding-left:%?20?%;background-color:#fff}.commodity-information-box>uni-view[data-v-7eef5886]{width:%?730?%;border-bottom:%?1?% solid #eee;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.commodity-information[data-v-7eef5886]{color:#7d7d7d;font-size:%?29?%}.commodity-information-title[data-v-7eef5886]{color:#aaa;font-size:%?26?%}.commodity-information-content[data-v-7eef5886]{color:#676767;font-size:%?26?%;margin-right:%?20?%}.commodity-image[data-v-7eef5886]{width:%?750?%;padding-bottom:%?130?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.commodity-image uni-image[data-v-7eef5886]{width:%?750?%}.commodity-bottom[data-v-7eef5886]{background-color:#fff;width:%?750?%;height:%?125?%;position:fixed;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.commodity-bottom>uni-view[data-v-7eef5886]:nth-child(1){height:%?125?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.commodity-bottom>uni-view:nth-child(1)>uni-view[data-v-7eef5886]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?125?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?130?%;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.commodity-bottom>uni-view:nth-child(1)>uni-view uni-image[data-v-7eef5886]{height:%?47?%;width:%?47?%}.commodity-bottom>uni-view:nth-child(1)>uni-view uni-text[data-v-7eef5886]{font-size:%?25?%;color:#7d7d7d}.commodity-bottom>uni-view:nth-child(1)>uni-view uni-view[data-v-7eef5886]{position:absolute;width:%?38?%;height:%?38?%;border-radius:50%;background-color:#ff4343;color:#fff;line-height:%?38?%;text-align:center;font-size:%?23?%;top:%?18?%;right:%?28?%}.commodity-bottom>uni-view[data-v-7eef5886]:nth-child(2){height:%?80?%;width:%?428?%;border-radius:%?40?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:%?20?%}.commodity-bottom>uni-view:nth-child(2)>uni-text[data-v-7eef5886]:nth-child(1){color:#fff;background-color:#fe6b6b;width:%?214?%;height:%?80?%;font-size:%?30?%;line-height:%?80?%;text-align:center}.commodity-bottom>uni-view:nth-child(2)>uni-text[data-v-7eef5886]:nth-child(2){color:#fff;background-color:#ff4343;width:%?214?%;height:%?80?%;font-size:%?30?%;line-height:%?80?%;text-align:center}.commodity-choose[data-v-7eef5886]{background-color:#fff;position:fixed;bottom:0;width:%?750?%;z-index:700}.commodity-choose-intro[data-v-7eef5886]{width:%?710?%;height:%?220?%;display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?%;border-bottom:%?1?% solid #eee;position:relative}.close[data-v-7eef5886]{position:absolute;right:%?10?%;width:%?60?%;height:%?60?%;top:0}.commodity-choose-intro>uni-view[data-v-7eef5886]:nth-child(1){height:%?200?%;width:%?200?%}.commodity-choose-intro>uni-view:nth-child(1) uni-image[data-v-7eef5886]{height:100%;width:100%}.commodity-choose-intro>uni-view[data-v-7eef5886]:nth-child(2){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-left:%?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?200?%;width:%?425?%}.commodity-choose-intro-name[data-v-7eef5886]{font-size:%?29?%;color:#333;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;width:%?425?%}.commodity-choose-intro-class[data-v-7eef5886]{font-size:%?25?%;color:#888;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;width:%?425?%}.commodity-choose-intro-free[data-v-7eef5886]{font-size:%?25?%;color:#888;margin:%?-30?% 0 0 %?70?%}.commodity-choose-intro-money[data-v-7eef5886]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;width:%?470?%}.commodity-choose-intro-money>uni-view[data-v-7eef5886]{color:#ff4343;font-size:%?42?%}.commodity-choose-intro-money>uni-view span[data-v-7eef5886]{color:#ff4343;font-size:%?35?%}.commodity-choose-intro-money>uni-text[data-v-7eef5886]{color:#999;font-size:%?28?%}.commodity-choose-guige[data-v-7eef5886]{border-bottom:%?1?% solid #eee;padding:0 %?25?%;max-height:%?300?%;overflow:auto}.commodity-choose-guige>uni-text[data-v-7eef5886]{font-size:%?30?%;color:#666;margin-top:%?20?%}.commodity-choose-guige>uni-view[data-v-7eef5886]{margin:%?20?% 0;margin-right:%?-20?%}.commodity-choose-guige-unchoose[data-v-7eef5886]{background-color:#efefef;border-radius:%?60?%;font-size:%?29?%;color:#676767;padding:%?10?% %?20?%;display:inline-block;margin-right:%?20?%;margin-bottom:%?20?%}.commodity-choose-guige-unchoose2[data-v-7eef5886]{background-color:#efefef;border-radius:%?60?%;font-size:%?29?%;color:#d4d4d4;padding:%?10?% %?20?%;display:inline-block;margin-right:%?20?%;margin-bottom:%?20?%}.commodity-choose-guige-choose[data-v-7eef5886]{background-color:#ff4343;border-radius:%?60?%;font-size:%?29?%;color:#fff;padding:%?10?% %?20?%;display:inline-block;margin-right:%?20?%;margin-bottom:%?20?%}.commodity-choose-num[data-v-7eef5886]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:%?710?%;height:%?90?%;border-bottom:%?1?% solid #eee;padding:0 %?20?%}.commodity-choose-num>uni-text[data-v-7eef5886]{font-size:%?30?%;color:#666}.buy-num[data-v-7eef5886]{height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?24?%;text-align:center}.buy-num .jian-btn[data-v-7eef5886]{width:%?61?%;height:100%;line-height:%?60?%;background-color:#eee;font-size:%?50?%;color:#999}.buy-num .jian-btn-disabled[data-v-7eef5886]{width:%?61?%;height:100%;line-height:%?60?%;background-color:#f6f6f6;font-size:%?50?%;color:#cbcbcb}.buy-num .jia-btn-disabled[data-v-7eef5886]{width:%?61?%;height:100%;line-height:%?60?%;background-color:#f6f6f6;font-size:%?50?%;color:#cbcbcb}.buy-num uni-view[data-v-7eef5886]{font-size:%?30?%;font-weight:500;color:#666}.buy-num .jia-btn[data-v-7eef5886]{width:%?61?%;line-height:%?60?%;height:100%;background-color:#eee;font-size:%?50?%;color:#999}.buy-num uni-input[data-v-7eef5886]{width:%?70?%;height:%?60?%;text-align:center;font-size:%?26?%;background-color:#eee;line-height:%?30?%;margin-left:%?3?%;margin-right:%?3?%}.commodity-choose-free[data-v-7eef5886]{border-bottom:%?1?% solid #eee;padding:0 %?25?%}.commodity-choose-free>uni-text[data-v-7eef5886]{font-size:%?30?%;color:#666;margin-top:%?20?%}.commodity-choose-free>uni-view[data-v-7eef5886]{margin:%?20?% 0;margin-right:%?-20?%}.commodity-choose-bottom[data-v-7eef5886]{background-color:#ff7e7e;width:%?750?%;height:%?110?%;color:#fff;font-size:%?35?%;text-align:center;line-height:%?110?%}.commodity-choose-bottom2[data-v-7eef5886]{background-color:#909399;width:%?750?%;height:%?110?%;color:#f5f5f5;font-size:%?35?%;text-align:center;line-height:%?110?%}body.?%PAGE?%[data-v-7eef5886]{background-color:#eee}",""])},b7c7:function(t,e,i){"use strict";i.r(e);var o=i("fce3"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},fce3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{hidden:!1,current:"",choose:"",chooseIndex:"",chooseSku:"",list:[],detailImgList:"",all:"",goodsSkuVoList:[],shoppingCartNum:"",totalPrice:""}},components:{},props:{},onLoad:function(t){getApp().globalData.login();var e=this;wx.request({url:getApp().globalData.url2+getApp().globalData.getGoodsDetailsById+t.goodsId,header:{type:1,aid:106},method:"get",success:function(t){if(200==t.data.data.errorCode){for(var i=0;i<t.data.data.goodsVo.carouselImgList.length;i++){var o=getApp().globalData.imgUrl+"/"+t.data.data.goodsVo.carouselImgList[i];t.data.data.goodsVo.carouselImgList[i]=o;var n=e.list;n.push(t.data.data.goodsVo.carouselImgList[i])}for(i=0;i<t.data.data.goodsVo.goodsSkuVoList.length;i++){o=getApp().globalData.imgUrl+"/"+t.data.data.goodsVo.goodsSkuVoList[i].mainImg;var a=1;t.data.data.goodsVo.goodsSkuVoList[i].skuQty=a,t.data.data.goodsVo.goodsSkuVoList[i].mainImg=o}for(i=0;i<t.data.data.goodsVo.detailImgList.length;i++){o=getApp().globalData.imgUrl+"/"+t.data.data.goodsVo.detailImgList[i];t.data.data.goodsVo.detailImgList[i]=o}for(var s in t.data.data.goodsVo.goodsSkuVoList)e.goodsSkuVoList.push(t.data.data.goodsVo.goodsSkuVoList[s]);e.setData({list:n,all:t.data.data.goodsVo,detailImgList:t.data.data.goodsVo.detailImgList,goodsSkuVoList:e.goodsSkuVoList,chooseSku:e.goodsSkuVoList[0],hidden:!0})}}})},onReady:function(){},onShow:function(){this.pageLoading=!1;var t=this;getApp().globalData.memId&&wx.request({url:getApp().globalData.url1+getApp().globalData.getShoppingCartCount+getApp().globalData.memId,data:"",header:{aid:107},method:"GET",dataType:"json",responseType:"text",success:function(e){200==e.data.data.errorCode&&t.setData({shoppingCartNum:e.data.data.shoppingCartNum,hidden:!0})},fail:function(t){},complete:function(t){}})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{swiperChange:function(t){var e=this;e.setData({current:t.detail.current})},preventD:function(){},previewImage1:function(t){var e=t.currentTarget.dataset.index;wx.previewImage({current:this.list[e],urls:this.list})},previewImage2:function(t){var e=t.currentTarget.dataset.src,i=[];i.push(e),wx.previewImage({current:e,urls:i})},shoppingCart:function(){var t=this;getApp().globalData.memId?t.pageLoading||(t.pageLoading=!0,wx.navigateTo({url:"/pages/shoppingCart/shoppingCart"})):wx.showModal({title:"提示",content:"小可爱，微信授权一键登录",success:function(t){t.confirm?wx.navigateTo({url:"/pages/authorization/authorization"}):t.cancel}})},orderDetails:function(t){var e=this,i=[{}];i[0].goodsId=this.all.id,i[0].skuId=this.chooseSku.id,i[0].skuQty=this.chooseSku.skuQty,this.hidden&&(e.setData({hidden:!1}),wx.request({url:getApp().globalData.url3+getApp().globalData.generatingOrder,data:{wxMemId:getApp().globalData.memId,openId:getApp().globalData.openId,orderSource:getApp().globalData.userType,orderVoList:i},header:{aid:119},method:"post",dataType:"json",responseType:"text",success:function(t){e.pageLoading||(e.pageLoading=!0,wx.navigateTo({url:"/pages/orderDetails/orderDetails?parendNo="+t.data.data.parendNo}),e.setData({choose:""}))},fail:function(t){},complete:function(t){}}))},shoppingCartChoose:function(){var t=this;getApp().globalData.memId?t.setData({choose:"shoppingCart"}):wx.showModal({title:"提示",content:"小可爱，微信授权一键登录",success:function(t){t.confirm?wx.navigateTo({url:"/pages/authorization/authorization"}):t.cancel}})},buyChoose:function(){var t=this;getApp().globalData.memId?t.setData({choose:"buy"}):wx.showModal({title:"提示",content:"小可爱，微信授权一键登录",success:function(t){t.confirm?wx.navigateTo({url:"/pages/authorization/authorization"}):t.cancel}})},joinShoppingCart:function(){var t=this;wx.request({url:getApp().globalData.url1+getApp().globalData.addAShoppingCart,data:{memId:getApp().globalData.memId,memSource:1,skuId:t.chooseSku.id,qty:t.chooseSku.skuQty},header:{aid:114},method:"post",dataType:"json",responseType:"text",success:function(e){wx.request({url:getApp().globalData.url1+getApp().globalData.getShoppingCartCount+getApp().globalData.memId,data:"",header:{aid:107},method:"GET",dataType:"json",responseType:"text",success:function(e){t.setData({shoppingCartNum:e.data.data.shoppingCartNum})},fail:function(t){},complete:function(t){}})},fail:function(t){},complete:function(t){}}),this.setData({choose:""})},close:function(){this.setData({choose:""})},chooseType:function(t){var e=t.target.dataset.index;this.setData({chooseIndex:e,chooseSku:this.goodsSkuVoList[e]})},reduce:function(){var t={};this.chooseSku.skuQty>=2&&(t.skuQty=this.chooseSku.skuQty-1,this.setData({"chooseSku.skuQty":t.skuQty}))},add:function(){var t={};this.chooseSku.skuQty<this.chooseSku.skuStock&&(t.skuQty=this.chooseSku.skuQty+1,this.setData({"chooseSku.skuQty":t.skuQty}))}}};e.default=o}}]);