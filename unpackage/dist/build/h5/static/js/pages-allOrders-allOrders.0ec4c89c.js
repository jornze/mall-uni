(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-allOrders-allOrders"],{"0264":function(t,e,i){"use strict";var o=i("f324"),a=i.n(o);a.a},"65b3":function(t,e,i){"use strict";(function(t){var o=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.uniHttp=void 0;var a=o(i("cebc")),n=o(i("795b")),r="",s=function(e){var i="undefiend"==e.method?"GET":e.method;e.header=void 0==e.header?{aid:"001"}:e.header;var o=JSON.parse(localStorage.getItem("storage_web_app_userInfo")),s=null==o?{account:"",token:""}:{account:o.id,token:o.token};return new n.default(function(o,n){t.log(s),uni.request({url:"".concat(r).concat(e.path),data:(0,a.default)({},e.data),method:i,header:(0,a.default)({},s,e.header),success:function(i){t.log(i),200==i.statusCode?(t.log(i),200==i.data.code?200==i.data.data.errorCode||1==i.data.data?o(i.data.data):109==e.header.aid?o(i.data.data):124==e.header.aid?t.log("不做错误提示"):(uni.showToast({title:i.data.data.errorMsg,icon:"none",duration:2200}),n(i)):124==e.header.aid?t.log("不做错误提示"):(uni.showToast({title:i.data.message,icon:"none",duration:2200}),n(i))):999==i.data.code?uni.showToast({title:"登录过期,请重新登录",icon:"none",duration:2200,success:function(){uni.navigateTo({url:"/pages/login/login"})}}):(uni.showToast({title:"异常状态码: "+i.statusCode,icon:"none",duration:2200}),n(i))},fail:function(t){uni.showToast({title:"数据请求失败,请重试! ",icon:"none",duration:2200}),n(t)}})})};e.uniHttp=s}).call(this,i("5a52")["default"])},6747:function(t,e,i){"use strict";i.r(e);var o=i("76cf"),a=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);e["default"]=a.a},"76cf":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("65b3"),a={data:function(){return{orderStatus:"",orderTYVoList:[],repeatedLoading:!0,page:1,flag:"",isloadedend:!1}},components:{},props:{},onLoad:function(t){this.orderStatus=t.orderStatus;var e=["全部订单","待付款","待发货","待收货","","待评价"];uni.setNavigationBarTitle({title:e[t.orderStatus]})},onReady:function(){},onShow:function(){this.page=1,this.orderTYVoList=[],this.getOrderList(),this.pageLoading=!1},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){this.repeatedLoading&&!this.isloadedend&&(this.repeatedLoading=!1,this.page=this.page+1,this.getOrderList())},onShareAppMessage:function(){},methods:{orderDetails:function(t){this.pageLoading||(this.pageLoading=!0,uni.navigateTo({url:"/pages/orderDetailByOrders/orderDetailByOrders?parendNo="+t.currentTarget.dataset.parendno+"&supId="+t.currentTarget.dataset.supid+"&orderStatus="+t.currentTarget.dataset.orderstatus}))},logistics:function(e){var i=this;(0,o.uniHttp)({path:getApp().globalData.getLogisticsDetailById+e,header:{aid:129},method:"GET"}).then(function(o){t.log(e),i.pageLoading||(i.pageLoading=!0,uni.navigateTo({url:"/pages/orderTracking/orderTracking?logisticsCode="+o.rtOrderDetail.logisticsCode+"&logisticsPostid="+o.rtOrderDetail.logisticsPostid}))})},deletOrder:function(t){var e=this;uni.showModal({title:"提示",content:"确定删除订单",success:function(i){i.confirm?e.deletOrderHttp(t):i.cancel}})},deletOrderHttp:function(t){var e=this,i=7==t.type?0:1;uni.showLoading({title:"删除中...",mask:!0}),(0,o.uniHttp)({path:getApp().globalData.deleteOrderByCondition,data:{parendNo:t.parendNo,supId:t.supId,category:i},header:{aid:127},method:"delete"}).then(function(i){e.orderTYVoList.splice(t.index,1),uni.showToast({title:"删除成功",icon:"success"}),e.orderTYVoList.length||(e.page=1,e.getOrderList()),uni.hideLoading()})},getOrderList:function(){var t=this;uni.showLoading({title:"加载中...",mask:!0});var e=this;(0,o.uniHttp)({path:"/orders/api/orderInternal/getOrderListByStatus/"+this.page+"/5",method:"POST",data:{wxMemId:this.$store.getters["login/get_userInfo"].id,openId:getApp().globalData.openId,orderStatus:this.orderStatus},header:{aid:125}}).then(function(i){if(e.repeatedLoading=!0,e.flag=i.flag,i.orderTYVoList.length>0){for(var o=0;o<i.orderTYVoList.length;o++){for(var a=0;a<i.orderTYVoList[o].orderVoList.length;a++){var n=getApp().globalData.imgUrl+i.orderTYVoList[o].orderVoList[a].skuImg;i.orderTYVoList[o].orderVoList[a].skuImg=n,i.orderTYVoList[o].orderVoList[a].marketPrice=i.orderTYVoList[o].orderVoList[a].marketPrice.toFixed(2),i.orderTYVoList[o].orderVoList[a].totalAmount=i.orderTYVoList[o].orderVoList[a].totalAmount.toFixed(2)}var r=e.orderTYVoList;r.push(i.orderTYVoList[o])}e.orderTYVoList=r,i.orderTYVoList.length<5&&t.page>1&&(e.isloadedend=!0)}else e.isloadedend=!0,e.flag&&(e.isloadedend=!1);uni.hideLoading()}).catch(function(t){uni.hideLoading()})},remind:function(){uni.showToast({title:"已提醒发货",mask:!0,success:function(t){},fail:function(t){},complete:function(t){}})}}};e.default=a}).call(this,i("5a52")["default"])},b79f:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-5fc69855]{background-color:#eee;padding-bottom:%?20?%}.none[data-v-5fc69855]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.none uni-image[data-v-5fc69855]{height:%?350?%;width:%?270?%;margin-top:%?200?%}.none .daishouhuo[data-v-5fc69855]{height:%?180?%;width:%?250?%;margin-top:%?275?%}.none uni-view[data-v-5fc69855]{font-size:%?28?%;color:#ccc;margin-top:%?20?%}.order-list[data-v-5fc69855]{background-color:#fff;margin-top:%?20?%}.describe[data-v-5fc69855]{width:%?750?%;height:%?90?%;border-bottom:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.describe>uni-view[data-v-5fc69855]:nth-child(1){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.describe>uni-view:nth-child(1) uni-view[data-v-5fc69855]{width:%?8?%;height:%?44?%;background-color:#ff4343;border-radius:%?8?%;margin-left:%?20?%}.describe>uni-view:nth-child(1) uni-text[data-v-5fc69855]{color:#666;font-size:%?28?%;margin-left:%?15?%}.describe> .status[data-v-5fc69855]{font-size:%?28?%;margin-right:%?40?%}.commodity-list[data-v-5fc69855]{border-bottom:%?1?% solid #eee;width:%?750?%;height:%?270?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.commodity-list>uni-image[data-v-5fc69855]{width:%?200?%;height:%?200?%;border-radius:%?10?%;margin-left:%?30?%}.commodity-list>uni-view[data-v-5fc69855]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:%?20?%;height:%?200?%}.commodity-list>uni-view>uni-view[data-v-5fc69855]:nth-child(1){display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;width:%?395?%;font-size:%?29?%;color:#333;font-weight:700}.commodity-list>uni-view>uni-view[data-v-5fc69855]:nth-child(2){display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;width:%?395?%;color:#666;font-size:%?25?%}.commodity-list>uni-view>uni-view[data-v-5fc69855]:nth-child(3){color:#ff4343;font-size:%?35?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:%?470?%}.commodity-list>uni-view>uni-view:nth-child(2) span[data-v-5fc69855]{font-size:%?26?%}.commodity-list>uni-view>uni-view:nth-child(2) uni-text[data-v-5fc69855]{color:#333;font-size:%?26?%}.order-total[data-v-5fc69855]{width:%?750?%;height:%?110?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.order-total>uni-view[data-v-5fc69855]:nth-child(1){font-size:%?26?%;margin-left:%?30?%;color:#999}.order-total>uni-view:nth-child(1)>span[data-v-5fc69855]:nth-child(1){margin:0 %?8?%;font-size:%?30?%;color:#666}.order-total>uni-view:nth-child(1)>span[data-v-5fc69855]:nth-child(2){margin:0 %?8?%;font-size:%?30?%;color:#ff4343}.order-other[data-v-5fc69855]{float:right;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-total .buyAgain[data-v-5fc69855]{width:%?180?%;height:%?70?%;background-color:#ff4343;color:#fff;font-size:%?30?%;margin-right:%?15?%;border-radius:%?35?%;line-height:%?70?%;text-align:center}.order-total .deletOrder[data-v-5fc69855]{width:%?180?%;height:%?70?%;font-size:%?30?%;margin-right:%?15?%;border-radius:%?35?%;line-height:%?70?%;text-align:center;border:%?1?% solid #ff4343;background-color:#fff;color:#ff4343}.order-total .logistics[data-v-5fc69855]{width:%?115?%;height:%?70?%;background-color:#999;color:#fff;font-size:%?30?%;margin-right:%?20?%;border-radius:%?35?%;line-height:%?70?%;text-align:center}.bottomText[data-v-5fc69855]{text-align:center;height:%?80?%;line-height:%?89?%;font-size:%?30?%;color:#d4d4d4}body.?%PAGE?%[data-v-5fc69855]{background-color:#eee}",""])},da0d:function(t,e,i){"use strict";var o,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"none"},[3!=t.orderStatus&&t.flag?i("v-uni-image",{attrs:{src:"/static/images/kongdaizi.png"}}):t._e(),3==t.orderStatus&&t.flag?i("v-uni-image",{staticClass:"daishouhuo",attrs:{src:"/static/images/daishouhuo.png"}}):t._e(),1==t.orderStatus&&t.flag?i("v-uni-view",[t._v("暂无支付订单")]):t._e(),2==t.orderStatus&&t.flag?i("v-uni-view",[t._v("暂无发货订单")]):t._e(),3==t.orderStatus&&t.flag?i("v-uni-view",[t._v("暂无收货订单")]):t._e(),5==t.orderStatus&&t.flag?i("v-uni-view",[t._v("暂无评价订单")]):t._e(),0==t.orderStatus&&t.flag?i("v-uni-view",[t._v("暂无订单")]):t._e()],1),t._l(t.orderTYVoList,function(e,o){return[i("v-uni-view",{key:o+"_0",staticClass:"order-list",attrs:{"data-parendNo":e.parendNo,"data-supId":e.orderVoList[0].supId,"data-orderStatus":e.orderVoList[0].orderStatus},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.orderDetails.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"describe"},[i("v-uni-view",[i("v-uni-view"),i("v-uni-text",[t._v("订单编号："+t._s(e.parendNo))])],1),1==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("待支付")]):t._e(),2==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("待发货")]):t._e(),3==e.orderVoList[0].orderStatus||4==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("待收货1")]):t._e(),5==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("待评价")]):t._e(),6==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("已完成")]):t._e(),7==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"status"},[t._v("已取消")]):t._e()],1),t._l(t.orderTYVoList[o].orderVoList,function(e,o){return[i("v-uni-view",{key:o+"_0",staticClass:"commodity-list"},[i("v-uni-image",{attrs:{src:e.skuImg}}),i("v-uni-view",[i("v-uni-view",[t._v(t._s(e.goodsName))]),i("v-uni-view",[t._v(t._s(e.skuName))]),i("v-uni-view",[i("v-uni-view",[i("span",[t._v("￥")]),t._v(t._s(e.marketPrice))]),i("v-uni-text",[t._v("x"+t._s(e.skuQty))])],1)],1)],1)]}),i("v-uni-view",{staticClass:"order-total"},[i("v-uni-view",[t._v("共"),i("span",[t._v(t._s(e.totalQuantity))]),t._v("件商品，实付"),i("span",[t._v("￥"+t._s(e.orderVoList[0].totalAmount))])]),i("v-uni-view",{staticClass:"order-other"},[3==e.orderVoList[0].orderStatus||4==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"buyAgain",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.logistics(e.orderVoList[0].id)}}},[t._v("查看物流")]):t._e(),5==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"buyAgain"},[t._v("再次购买")]):t._e(),2==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"buyAgain",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.remind.apply(void 0,arguments)}}},[t._v("提醒发货")]):t._e(),1==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"buyAgain"},[t._v("立即支付")]):t._e(),6==e.orderVoList[0].orderStatus||7==e.orderVoList[0].orderStatus?i("v-uni-view",{staticClass:"deletOrder",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.deletOrder({parendNo:e.parendNo,type:e.orderVoList[0].orderStatus,supId:e.orderVoList[0].supId,index:o})}}},[t._v("删除订单")]):t._e()],1)],1)],2)]}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isloadedend,expression:"isloadedend"}],staticClass:"bottomText"},[t._v("已全部加载")])],2)},n=[];i.d(e,"b",function(){return a}),i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o})},f263:function(t,e,i){"use strict";i.r(e);var o=i("da0d"),a=i("6747");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("0264");var r,s=i("f0c5"),d=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"5fc69855",null,!1,o["a"],r);e["default"]=d.exports},f324:function(t,e,i){var o=i("b79f");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("31b14e6b",o,!0,{sourceMap:!1,shadowMode:!1})}}]);