(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jingxuan/jingxuan"],{"16b4":function(o,t,n){"use strict";var e,i=function(){var o=this,t=o.$createElement;o._self._c},s=[];n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return e})},1895:function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n("65b3");function i(o){return d(o)||a(o)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(o){if(Symbol.iterator in Object(o)||"[object Arguments]"===Object.prototype.toString.call(o))return Array.from(o)}function d(o){if(Array.isArray(o)){for(var t=0,n=new Array(o.length);t<o.length;t++)n[t]=o[t];return n}}var g={data:function(){return{homePageMap:[],repeatedLoading:!0,goodsTabsVoList:[],chooseNavIndex:0,chooseNav:"{{}}",verticalScroll:!1,winWidth:"",winHeight:"",pageLoading:!1,goodsVo1:[],goodsVo2:[],goodsVo3:[],currentgoodsVo:[],tabsgoodsVoList:[],isloadedend:!1}},components:{},props:{},onLoad:function(t){var n=this;this.tabsgoodsVoList=[this.goodsVo1,this.goodsVo2,this.goodsVo3],o.showLoading({title:"加载中...",mask:!0}),Promise.all([(0,e.uniHttp)({path:"/goods/api/goodsInternal/getHomePageSowingMap/1/10",header:{aid:"102"}}),(0,e.uniHttp)({path:"/goods/api/goodsInternal/getTabsListByCategory/1",header:{aid:"103"}})]).then(function(t){o.hideLoading(),console.log(t);var e=t[0],s=t[1];if(e.shopContentVoList.length>0){for(var a,d=0;d<e.shopContentVoList.length;d++){var g=getApp().globalData.imgUrl+"/"+e.shopContentVoList[d].contentWxImg;e.shopContentVoList[d].contentWxImg=g}(a=n.homePageMap).push.apply(a,i(e.shopContentVoList))}n.goodsTabsVoList=s.goodsTabsVoList,0!=n.goodsTabsVoList.length&&n.getgoodsVo(0)}),o.getSystemInfo({success:function(o){n.winWidth=o.windowWidth,n.winHeight=o.windowHeight}})},onReady:function(){},onShow:function(){this.pageLoading=!1},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){this.repeatedLoading&&(console.log("onReachBottom"),this.repeatedLoading=!1,this.goodsTabsVoList[this.chooseNavIndex].page=this.goodsTabsVoList[this.chooseNavIndex].page+1,this.getgoodsVo(this.chooseNavIndex)),console.log(this.repeatedLoading)},onShareAppMessage:function(){},onPageScroll:function(t){var n=this;o.createSelectorQuery().select(".jingxuan-main").boundingClientRect(function(o){o.top<=34?n.verticalScroll=!0:n.verticalScroll=!1}).exec()},methods:{goBanner:function(t){2==t.contentType?o.navigateTo({url:"/pages/h5/h5?h5Url="+t.h5Url}):1==t.contentType&&o.navigateTo({url:"/pages/commodity_details/commodity_details?goodsId="+t.desc})},commodity_details:function(t){this.pageLoading||(this.pageLoading=!0,o.navigateTo({url:"/pages/commodity_details/commodity_details?goodsId="+t}))},chooseNavFun:function(o){this.chooseNavIndex=o,this.currentgoodsVo=this.tabsgoodsVoList[o],this.tabsgoodsVoList=[this.goodsVo1,this.goodsVo2,this.goodsVo3],this.tabsgoodsVoList[o].length||(this.isloadedend=!1,this.getgoodsVo(o))},getgoodsVo:function(t){var n=this;if(this.isloadedend)console.log("我是有底线的");else{this.repeatedLoading=!1,o.showLoading({title:"加载中...",mask:!0});var s=this.goodsTabsVoList[t].page.toString(),a=this.goodsTabsVoList[t].id.toString();(0,e.uniHttp)({path:"/goods/api/goodsInternal/getGoodsListByHome/".concat(s,"/").concat(a),header:{aid:"104"}}).then(function(e){n.repeatedLoading=!0;var s=e;if(s.goodsVoList.length>0){for(var a,d=0;d<s.goodsVoList.length;d++){var g=getApp().globalData.imgUrl+"/"+s.goodsVoList[d].goodsPic;s.goodsVoList[d].goodsPic=g}(a=n.tabsgoodsVoList[t]).push.apply(a,i(s.goodsVoList)),n.currentgoodsVo=n.tabsgoodsVoList[t]}else n.isloadedend=!0,console.log("isend");o.hideNavigationBarLoading(),o.stopPullDownRefresh(),o.hideLoading()})}}}};t.default=g}).call(this,n("543d")["default"])},"3e60":function(o,t,n){"use strict";n.r(t);var e=n("1895"),i=n.n(e);for(var s in e)"default"!==s&&function(o){n.d(t,o,function(){return e[o]})}(s);t["default"]=i.a},"4eba":function(o,t,n){"use strict";var e=n("c04b"),i=n.n(e);i.a},"9df8":function(o,t,n){"use strict";(function(o){n("f1a0"),n("921b");e(n("66fd"));var t=e(n("d231"));function e(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,n("543d")["createPage"])},c04b:function(o,t,n){},d231:function(o,t,n){"use strict";n.r(t);var e=n("16b4"),i=n("3e60");for(var s in i)"default"!==s&&function(o){n.d(t,o,function(){return i[o]})}(s);n("4eba");var a,d=n("f0c5"),g=Object(d["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);t["default"]=g.exports}},[["9df8","common/runtime","common/vendor"]]]);